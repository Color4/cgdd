{% load staticfiles %}

<link rel="stylesheet" type="text/css" href="{% static 'gendep/style.css' %}" />

<style type="text/css">
    .jsAction {
        cursor: pointer;
        color: #00f;
        text-decoration: underline;
    }
</style>

<h1 style="text-align: center;">Database of Geneic Dependencies in Cancer</h1>

{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

<p>Tissue type: {% if histotype == "ALL_HISTOTYPES" %} All histotypes {% else %} {{ histotype.full_name }} {% endif %}</p>
<p>Study: {% if histotype == "ALL_STUDIES" %} All studies {% else %} <a href="http://www.ncbi.nlm.nih.gov/pubmed/{{ study.pmid }}" target="_blank">{{ study.pmid }}</a> {{ study.title }} {% endif %} </p>

<p><b>Driver Gene: {{ driver.gene_name }}</b></p>
<p><u>Synonyms:</u> {{ driver.synonyms }} {{ driver.prev_names }}</p>
<p><u>Gene Descripion:</u> {{ driver.full_name }}</p>
<p><u>External links:</u>
 CancerRxGene.org 
| <a href="http://www.genecards.org/cgi-bin/carddisp.pl?gene={{ driver.gene_name }}" target="_blank">GeneCards</a> 
| <a href="http://cancer.sanger.ac.uk/cosmic/gene/analysis?ln={{ driver.gene_name }}" target="_blank">Cosmic</a> 
| Cancer
</p>

<!--
            <ul class="list-inline">
                    <li>HGNC: <a href="http://www.genenames.org/cgi-bin/gene_symbol_report?hgnc_id=3430" target="_blank">3430</a></li>
                    <li>Entrez Gene: <a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?db=gene&amp;cmd=Retrieve&amp;dopt=full_report&amp;list_uids=2064" target="_blank">2064</a></li>
                    <li>Ensembl: <a href="http://www.ensembl.org/Homo_sapiens/geneview?gene=ENSG00000141736" target="_blank">ENSG00000141736</a></li>
                    <li>OMIM: <a href="http://omim.org/entry/164870" target="_blank">164870</a></li>
                    <li>UniProtKB: <a href="http://www.uniprot.org/uniprot/P04626" target="_blank">P04626</a></li>
            </ul>
-->
<!--
script
set_graph(driver,target)
{% url 'gendep:graph' dependency.driver.gene_name dependency.target.gene_name }}
-->
<!--
<a href="set_graph( {{ dependency.driver.gene_name }}, {{ dependency.target.gene_name }} );"/>{{ dependency.target.gene_name }}</a>
-->

{% if dependency_list %}
  <table border="1" cellspacing="0">
    <tr><th>Dependency</th><th>P-value</th><th>PubMed ID</th><th>Tissue</th><th>Inhibitors</th><th>Experiment Details</th></tr>
    {% for dependency in dependency_list %}
    <tr> 
        <td><span class="jsAction" onclick="set_graph( {{ dependency.driver.gene_name }}, {{ dependency.target.gene_name }} );">{{ dependency.target.gene_name }}</span></td>
        <td>{{ dependency.wilcox_p }}</td>
        <td><a href="http://www.ncbi.nlm.nih.gov/pubmed/{{ dependency.study_pmid.pmid }}" target="_blank">{{ dependency.study.pmid }}</a></td>
        <td>{{ dependency.histotype.full_name }}</td>
        <td></td>
        <td>{{ dependency.study.summary }}</td>
    </tr>
    {% endfor %}
  </table>
{% else %}
    <p>No dependencies found.</p>
{% endif %}
